<!DOCTYPE html>
<html lang="en">
<head>

	<!-- Latest compiled and minified CSS & JS -->

	<link rel="stylesheet" type= "text/css" href="reset.css">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

	<link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet">

	<link rel="stylesheet" type= "text/css" href="style.css">

</head>

<body>

	<div class= "container">
		<div class="col-lg-2"></div>
		<div class= "col-lg-8 questionBox">

			<h3><strong>About you</strong></h3>

			<input id="name" type="text" placeholder= "Name" class="form-control" required>
			<label class='active' for="name">(required)</label>
			<br><br>
			<input id="photo" type="text" placeholder="Link to a photo" class="form-control" required>
			<label class='active' for="name">(required)</label>


			<h3><strong>Question 1</strong></h3>
			<h4>You are very spontainious and adventurous.</h4>
			<select data-placeholder="" class="chosen-select" id="question01">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 2</strong></h3>
			<h4>You like to be methodical and have your day planned out.</h4>
			<select data-placeholder="" class="chosen-select" id="question02">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 3</strong></h3>
			<h4>If you were Rose, you'd never let go of Jack. #titanic4ever</h4>
			<select data-placeholder="" class="chosen-select" id="question03">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 4</strong></h3>
			<h4>You like long walks on the beach.</h4>
			<select data-placeholder="" class="chosen-select" id="question04">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 5</strong></h3>
			<h4>You like Pina Coladas and getting caught in the rain.</h4>
			<select data-placeholder="" class="chosen-select" id="question05">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 6</strong></h3>
			<h4>You are more of a dog person (cats r evil).</h4>
			<select data-placeholder="" class="chosen-select" id="question06">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 7</strong></h3>
			<h4>You would love to shark dive with Great Whites in South Africa.</h4>
			<select data-placeholder="" class="chosen-select" id="question07">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 8</strong></h3>
			<h4>You would rather jump off a cliff than touch a tarantula.</h4>
			<select data-placeholder="" class="chosen-select" id="question08">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 9</strong></h3>
			<h4>You don't like watching sports (Sports ball, anyone?).</h4>
			<select data-placeholder="" class="chosen-select" id="question09">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br>

			<h3><strong>Question 10</strong></h3>
			<h4>Mac and cheese is your favorite food, ever.</h4>
			<select data-placeholder="" class="chosen-select" id="question10">
				<option value="" class= "optionColor">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
			<br></br><br>



			<button type="submit" class="btn btn-success btn-lg btnStyle" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>BFF ME!</button>

		</div>
	</div>

	<div class= "container">
	<div class="col-lg-2"></div>
		<p>
			<a href= "/api/friends">API Friends List</a>
			|
			<a href= "www.github.com">GitHub Repo</a>
		</p>
	</div>


	<!-- Modal -->
<div id="resultsModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title"><strong>Best Match</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img id="matchImg" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>


	<script type="text/javascript">



    $("#submit").on("click", function(event) {

    function validateForm() {
		  var isValid = true;
		  $('.form-control').each(function() {
		    if ( $(this).val() === '' )
		        isValid = false;
		  });

		  $('.chosen-select').each(function() {

		  	if( $(this).val() === "")
		  		isValid = false
		  })
		  return isValid;
		};



      event.preventDefault();
      if (validateForm() == true){

      	   var newFriend = {
        Name: $("#name").val().trim(),
        Photo: $("#photo").val().trim(),
        scores: [
       	$('#question01').val().trim(),
        $('#question02').val().trim(),
        $('#question03').val().trim(),
        $('#question04').val().trim(),
        $('#question05').val().trim(),
        $('#question06').val().trim(),
        $('#question07').val().trim(),
        $('#question08').val().trim(),
        $('#question09').val().trim(),
        $('#question10').val().trim()
        ]
      };
      console.log(newFriend);

		$.post('/api/friends', newFriend, function(data) {
			console.log(data);

				$("#matchName").text(data.name);
	    		$('#matchImg').attr("src", data.Photo);

		    	// Show the modal with the best match
		    	$("#resultsModal").modal('toggle');
		});


      }

      else {

      	alert("Please fill out all questions!");
      }

		return false;
	});







	</script>


</body>
</html>
